# 📋 고객 요구사항 추적 및 갭 분석 (Client Requirements Tracking)

## 1. 개요 (Overview)

이 문서는 FAST FISH 프로젝트의 고객 요구사항을 추적하고, 현재 구현 상태와의 갭을 분석합니다.

---

## 2. 요구사항 매트릭스 (Requirements Matrix)

### 2.1 핵심 요구사항

| ID | 요구사항 | 우선순위 | 상태 | 구현 Step | 비고 |
|----|----------|----------|------|-----------|------|
| R001 | 매장 데이터 로딩 및 정제 | 높음 | ✅ 완료 | Step 1 | |
| R002 | 좌표 추출 및 검증 | 높음 | ✅ 완료 | Step 2 | |
| R003 | 제품 믹스 매트릭스 생성 | 높음 | ✅ 완료 | Step 3 | |
| R004 | 최적 클러스터 수 결정 | 중간 | ✅ 완료 | Step 4 | |
| R005 | K-Means 클러스터링 | 높음 | ✅ 완료 | Step 5 | |
| R006 | SPU 레벨 클러스터링 | 높음 | ✅ 완료 | Step 6 | |
| R007 | 제품 믹스 규칙 생성 | 높음 | ✅ 완료 | Step 7 | |
| R008 | 시각화 대시보드 | 중간 | ✅ 완료 | Step 8 | |

### 2.2 추가 요구사항

| ID | 요구사항 | 우선순위 | 상태 | 구현 Step | 비고 |
|----|----------|----------|------|-----------|------|
| R009 | 온도 인식 클러스터링 | 낮음 | 🔄 진행중 | Step 6 | 선택적 기능 |
| R010 | 클러스터 밸런싱 | 중간 | ✅ 완료 | Step 6 | |
| R011 | 인터랙티브 지도 | 중간 | ✅ 완료 | Step 8 | folium 사용 |
| R012 | PDF 보고서 생성 | 낮음 | ⏳ 대기 | - | 향후 구현 |
| R013 | API 연동 | 낮음 | ⏳ 대기 | - | 향후 구현 |

---

## 3. 갭 분석 (Gap Analysis)

### 3.1 기능 갭

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           기능 구현 현황                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  데이터 처리      ████████████████████████████████████████  100%            │
│  클러스터링       ████████████████████████████████████████  100%            │
│  규칙 생성        ████████████████████████████████████████  100%            │
│  시각화           ████████████████████████████████░░░░░░░░   80%            │
│  보고서           ████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░   30%            │
│  API 연동         ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░    0%            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 상세 갭 분석

| 영역 | 요구사항 | 현재 상태 | 갭 | 해결 방안 |
|------|----------|-----------|-----|-----------|
| **시각화** | PDF 보고서 | 미구현 | 20% | reportlab 또는 weasyprint 도입 |
| **시각화** | 실시간 대시보드 | 정적 HTML | 10% | Dash/Streamlit 전환 |
| **연동** | REST API | 미구현 | 100% | FastAPI 도입 |
| **연동** | 데이터베이스 | 파일 기반 | 50% | PostgreSQL 연동 |
| **분석** | 시계열 분석 | 미구현 | 100% | 향후 Phase 2 |

---

## 4. 요구사항 추적 (Traceability)

### 4.1 요구사항 → 구현 매핑

```
R001 (데이터 로딩)
├── src/step1_load_data.py
├── tests/test_step1.py
└── docs/workflow/02_STEP1_DATA_LOADING.md

R002 (좌표 추출)
├── src/step2_extract_coordinates.py
├── tests/test_step2.py
└── docs/workflow/03_STEP2_COORDINATES.md

R003 (매트릭스 생성)
├── src/step3_create_matrix.py
├── tests/test_step3.py
└── docs/workflow/04_STEP3_MATRIX.md

R004-R006 (클러스터링)
├── src/step4_optimal_clusters.py
├── src/step5_cluster_analysis.py
├── src/step6_cluster_analysis.py
├── tests/test_clustering.py
└── docs/workflow/05_STEP4_5_CLUSTERING.md

R007-R008 (규칙 및 시각화)
├── src/step7_generate_rules.py
├── src/step8_visualize_rules.py
├── tests/test_rules.py
└── docs/workflow/06_STEP6_7_RULES.md
```

### 4.2 테스트 커버리지

| 요구사항 | 단위 테스트 | 통합 테스트 | E2E 테스트 |
|----------|-------------|-------------|------------|
| R001 | ✅ | ✅ | ✅ |
| R002 | ✅ | ✅ | ✅ |
| R003 | ✅ | ✅ | ✅ |
| R004 | ✅ | ✅ | ⏳ |
| R005 | ✅ | ✅ | ✅ |
| R006 | ✅ | ✅ | ✅ |
| R007 | ✅ | ✅ | ⏳ |
| R008 | ✅ | ⏳ | ⏳ |

---

## 5. 우선순위 백로그 (Priority Backlog)

### 5.1 Phase 1 (현재) - 완료

- [x] 데이터 파이프라인 구축
- [x] 클러스터링 분석
- [x] 규칙 생성
- [x] 기본 시각화

### 5.2 Phase 2 (다음) - 계획

- [ ] PDF 보고서 자동 생성
- [ ] 실시간 대시보드 (Streamlit)
- [ ] 데이터베이스 연동
- [ ] 스케줄러 통합

### 5.3 Phase 3 (향후) - 검토

- [ ] REST API 개발
- [ ] 시계열 분석 추가
- [ ] 머신러닝 모델 고도화
- [ ] 클라우드 배포

---

## 6. 리스크 및 이슈 (Risks & Issues)

### 6.1 현재 리스크

| ID | 리스크 | 영향도 | 발생 가능성 | 완화 방안 |
|----|--------|--------|-------------|-----------|
| RISK-001 | 대용량 데이터 처리 지연 | 높음 | 중간 | 청크 처리, 병렬화 |
| RISK-002 | 클러스터 품질 저하 | 중간 | 낮음 | 정기적 재학습 |
| RISK-003 | 규칙 정확도 | 중간 | 중간 | 검증 프로세스 강화 |

### 6.2 해결된 이슈

| ID | 이슈 | 해결일 | 해결 방법 |
|----|------|--------|-----------|
| ISSUE-001 | 좌표 검증 오류 | 2025-01-03 | 범위 검증 로직 추가 |
| ISSUE-002 | 메모리 부족 | 2025-01-04 | 청크 처리 도입 |

---

## 7. 승인 및 검토 (Approval)

### 7.1 검토 이력

| 버전 | 검토일 | 검토자 | 상태 |
|------|--------|--------|------|
| 1.0 | 2025-01-05 | - | 초안 작성 |

### 7.2 변경 이력

| 날짜 | 변경 내용 | 작성자 |
|------|-----------|--------|
| 2025-01-05 | 초기 문서 작성 | Data Pipeline Team |

---

## 8. 다음 단계

- **다음**: [08_NEXT_STEPS.md](./08_NEXT_STEPS.md) - 다음 단계 권장사항
- **이전**: [06_STEP6_7_RULES.md](./06_STEP6_7_RULES.md) - 규칙 생성 및 시각화
