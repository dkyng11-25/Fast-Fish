# Store Clustering Experiment Report

**Generated:** 2026-01-14 09:56:13

## Executive Summary

- **Target Silhouette Score:** 0.5
- **Temperature Constraint:** 5.0°C range per cluster
- **Total Stores:** 2223
- **Total Features:** 54

## Results Comparison

| Metric | With Temp Constraint | Without Temp Constraint | Difference |
|--------|---------------------|------------------------|------------|
| **Silhouette Score** | 0.7567 | 0.7567 | +0.0000 |
| Calinski-Harabasz | 43.5 | 43.5 | +0.0 |
| Davies-Bouldin | 0.1521 | 0.1521 | +0.0000 |
| Number of Clusters | 5 | 5 | - |
| Temp Constraint Met | None | None | - |
| Target Met (>=0.5) | YES | YES | - |

## Features Added

### 1. Fashion/Basic/Neutral Ratios

Derived from sales data by classifying subcategories:
- **Fashion:** High-style items (dresses, coats, trendy items)
- **Basic:** Staple items (t-shirts, underwear, basics)
- **Neutral:** Items not clearly fashion or basic

**Distribution Statistics:**
- Fashion Ratio: mean=37.7%, std=3.6%
- Basic Ratio: mean=0.9%, std=1.2%
- Neutral Ratio: mean=61.3%, std=3.6%

### 2. Store Capacity

Calculated from total sales volume weighted by SKU diversity:
- `capacity_raw = total_sales × log(1 + sku_diversity)`
- Normalized to 0-100 percentile scale

**Distribution Statistics:**
- Capacity Score: mean=50.0, std=28.9

### 3. Temperature Features

- Feels-like temperature from weather data
- Used for 5.0°C constraint in constrained clustering

## Normalization/Scaling Decisions

| Feature Group | Scaler | Rationale |
|--------------|--------|----------|
| SPU Features | StandardScaler + PCA | Reduce dimensionality, center and scale |
| Style Ratios | MinMaxScaler | Already bounded 0-100%, normalize to 0-1 |
| Capacity | RobustScaler | Handle outliers in sales volume |
| Temperature | StandardScaler | Center and scale for distance calculations |

### Feature Weighting

To prevent SPU volume from dominating, features are weighted:

- **spu_features:** 50%
- **style_features:** 30%
- **capacity_features:** 15%
- **temperature_features:** 5%

## Observations

### ✅ Target Achieved (With Temperature Constraint)

The silhouette score of 0.7567 meets the target of 0.5.

### Temperature Constraint Validation

❌ None clusters violate the constraint.

## Recommendations

1. **Deploy constrained clustering** - meets both quality and business requirements
2. Monitor cluster stability over time
3. Consider A/B testing with unconstrained clustering for comparison

---
*Report generated by step6_enhanced_clustering.py*
